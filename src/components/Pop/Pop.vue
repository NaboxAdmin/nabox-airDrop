<template>
  <div class="mask-cont" @click.stop="showPop = false" :class="{'show_pop' : showPop }">
    <div class="modal-container" @click.stop>
      <div class="nav-bar cursor-pointer" @click="toUrl('website')">
        <span class="icon-cont">
          <i class="iconfont icon-zichanshangjia"></i>
        </span>
        <span>{{ $t('header.header1') }}</span>
      </div>
      <div class="nav-bar cursor-pointer" @click="toUrl('SwapBox')">
        <span class="icon-cont">
          <i class="iconfont icon-swapbox"></i>
        </span>
        <span>{{ 'SwapBox' }}</span>
      </div>
      <div class="nav-bar cursor-pointer" @click="toUrl('nerveBridge')">
        <span class="icon-cont">
          <svg t="1636954940240" class="icon" viewBox="0 0 1588 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2304" width="18" height="18"><path d="M1578.286157 23.823187A55.98449 55.98449 0 0 0 1532.625048 0h-277.937184a128.248158 128.248158 0 0 0-119.115937 82.587049l-129.836371 340.274525L771.474215 15.882125A26.602559 26.602559 0 0 0 754.400931 3.176425a19.852656 19.852656 0 0 0-8.338116 0 53.205118 53.205118 0 0 0-15.882125-2.779372h-277.937185a129.042264 129.042264 0 0 0-119.115936 82.587049L3.573478 948.95696a55.190384 55.190384 0 0 0 6.35285 50.8228 55.587437 55.587437 0 0 0 45.661109 24.22024h277.937185a128.645211 128.645211 0 0 0 119.115936-82.587049l129.439318-339.083366 231.48197 397.053121a31.76425 31.76425 0 0 0 5.16169 5.161691 54.793331 54.793331 0 0 0 39.705312 17.867391h277.937185a129.439318 129.439318 0 0 0 119.115937-82.58705l329.157037-864.781698A55.98449 55.98449 0 0 0 1578.286157 23.823187zM961.265607 541.977511l-37.322994 97.675068-215.202791-372.435828 37.322993-97.675068z m-335.112835-57.969756l37.322994-97.675068 215.202792 372.435828-37.322994 97.675068z m-277.937185 418.096937a18.264444 18.264444 0 0 1-16.279178 11.117487H135.792168L436.758434 121.895308a17.073284 17.073284 0 0 1 16.279177-11.117487h198.526561z m802.444359 0a17.86739 17.86739 0 0 1-16.279178 11.117487h-196.144242l301.363319-791.326871a17.470337 17.470337 0 0 1 16.279178-11.117487h196.541295z" fill="#666A7B" p-id="2305"></path></svg>
        </span>
        <span>{{ 'Bridge' }}</span>
      </div>
      <div class="bottom-cont">
        <div class="info-cont">
          <span class="icon mr-3 cursor-pointer" @click.stop="toUrl('twitter')">
            <svg t="1631674675865" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4503" width="20" height="20"><path d="M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0z m264.96 370.432l-20.224 16.64a376.832 376.832 0 0 1-5.888 81.408c-31.744 142.08-115.2 238.336-246.528 279.552a373.504 373.504 0 0 1-179.2 5.888 476.928 476.928 0 0 1-73.728-24.064 230.4 230.4 0 0 1-35.584-17.92L204.8 705.28a175.616 175.616 0 0 0 40.192 1.536c13.056-2.048 25.6-1.536 36.608-4.096a263.424 263.424 0 0 0 75.264-27.648 164.864 164.864 0 0 0 34.048-22.016 108.8 108.8 0 0 1-37.12-6.4 128 128 0 0 1-79.872-80.896c12.544 1.536 48.128 4.608 56.32-2.56a86.016 86.016 0 0 1-41.216-16.64A120.064 120.064 0 0 1 230.4 438.272l13.568 5.12a134.656 134.656 0 0 0 25.6 7.424 32.768 32.768 0 0 0 17.152 1.536c-6.4-7.168-16.64-12.032-23.04-20.224a130.816 130.816 0 0 1-28.16-114.944 138.752 138.752 0 0 1 13.568-32.512 119.04 119.04 0 0 0 11.52 13.568 238.848 238.848 0 0 0 37.12 36.608 369.152 369.152 0 0 0 153.6 74.752 204.8 204.8 0 0 0 56.064 7.68 122.624 122.624 0 0 1 0-59.392 124.416 124.416 0 0 1 71.424-84.736 171.264 171.264 0 0 1 28.16-8.704l15.36-1.792a126.464 126.464 0 0 1 99.072 39.68 204.8 204.8 0 0 0 65.28-21.76l15.616-8.448a129.792 129.792 0 0 1-40.704 59.136 72.704 72.704 0 0 1-14.08 10.24 253.44 253.44 0 0 0 71.68-20.224 210.688 210.688 0 0 1-42.24 49.152z" fill="#656a7d" p-id="4504"></path></svg>
          </span>
          <span class="icon mr-3 cursor-pointer" @click.stop="toUrl('telegram')">
            <svg t="1626746186272" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1897" width="20" height="20"><path d="M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0z m290.304 307.2l-96 452.352c-6.656 32-25.6 39.68-52.992 25.6l-146.176-107.776-70.144 68.096a38.144 38.144 0 0 1-29.44 14.848l9.984-149.504 271.104-244.992c12.032-11.008-2.56-16.128-18.432-6.656l-334.592 211.456-144.64-45.824c-31.232-8.96-31.488-30.464 6.912-46.08l563.2-217.344c26.368-11.776 51.2 6.4 41.216 45.824z" fill="#656A7D" p-id="1898"></path></svg>
          </span>
          <span class="icon mr-3 cursor-pointer" @click.stop="toUrl('Discord')">
            <svg t="1626746225521" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2057" width="20" height="20"><path d="M862.705298 0.001302a112.215469 112.215469 0 0 1 111.434386 105.706451v918.292247l-114.298354-96.854187-62.746933-57.018996-68.474868-59.882965 28.639678 94.250579h-598.829648A105.966812 105.966812 0 0 1 49.859141 798.78798V105.707753A108.049697 108.049697 0 0 1 158.429559 0.001302h704.275739z m-260.360717 242.395827h-1.301803l-8.591904 8.591904a343.676146 343.676146 0 0 1 130.180358 65.6109 465.2646 465.2646 0 0 0-159.86148-48.427093 432.198789 432.198789 0 0 0-104.144286 0h-8.591904a377.7834 377.7834 0 0 0-120.02629 31.243286c-19.787414 8.591904-31.243286 14.319839-31.243286 14.319839a304.882399 304.882399 0 0 1 136.949737-65.6109l-5.727936-5.727936a257.757109 257.757109 0 0 0-148.405609 54.155029 668.60632 668.60632 0 0 0-78.108215 299.675185s42.699158 74.202804 159.86148 78.108215c0 0 16.923447-22.911743 34.367615-42.699158a168.974105 168.974105 0 0 1-91.386612-59.882965 113.777633 113.777633 0 0 1 14.31984 8.331543h2.603607a3.384689 3.384689 0 0 1 2.343246 1.301804 3.124329 3.124329 0 0 0 2.603608 1.301803c14.059479 5.727936 28.118957 11.455872 39.835189 17.183808a353.049132 353.049132 0 0 0 76.806412 22.911743 445.216825 445.216825 0 0 0 136.949737 0 416.577146 416.577146 0 0 0 77.066772-23.953186 663.919827 663.919827 0 0 0 59.622604-31.503647 171.056991 171.056991 0 0 1-94.25058 59.882965c14.059479 20.047775 34.107254 42.699158 34.107254 42.699157a223.129134 223.129134 0 0 0 165.068694-73.682082 664.96127 664.96127 0 0 0-78.108214-299.414824 256.715667 256.715667 0 0 0-146.062362-53.634308h2.603607z m7.029739 188.501159a57.018997 57.018997 0 1 1-54.155029 57.018997 55.456833 55.456833 0 0 1 54.155029-57.018997z m-193.708373 0a57.018997 57.018997 0 1 1-54.415389 57.018997A55.456833 55.456833 0 0 1 414.364144 430.898288z" fill="#656A7D" p-id="2058"></path></svg>
          </span>
        </div>
        <div class="lang-cont d-flex align-items-center cursor-pointer" @click="switchLocale">
          <span>
            <svg t="1626750311248" class="icon" viewBox="0 0 1027 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1544" width="19" height="19"><path d="M978.302159 300.68632A511.938626 511.938626 0 1 0 1023.963002 512.069163a510.327067 510.327067 0 0 0-45.660843-211.382843zM662.705157 512.069163a1027.637558 1027.637558 0 0 1-6.177643 111.197582 1122.450955 1122.450955 0 0 0-285.783158 0 1027.637558 1027.637558 0 0 1-6.177644-111.197582c0-30.082438 1.342966-58.553316 3.760305-85.949822a1094.785856 1094.785856 0 0 0 145.308918 9.400762 1094.785856 1094.785856 0 0 0 145.308917-9.400762c2.417339 27.396506 3.760305 55.867384 3.760305 85.949822z m185.06071 270.741939c-5.103271 6.177643-10.206541 12.086694-15.578405 17.995744l-2.685932 2.954525c-6.177643 6.71483-12.62388 13.42966-19.33871 19.607303l-6.177643 5.640457-14.23544 12.62388-8.057795 6.71483-13.698253 10.475134-8.863576 6.177644-13.966846 9.400762-9.132168 5.640457c-5.103271 3.223118-10.475135 6.177643-15.846999 9.132168l-8.057795 4.297491a241.733874 241.733874 0 0 1-22.293236 10.743728h-2.417338l-25.24776 10.206541-8.326389 2.685932h-2.148746a647.309596 647.309596 0 0 0 72.251569-201.713488 589.024873 589.024873 0 0 1 137.251122 47.272402c-2.417339 3.760305-5.103271 7.252016-7.789203 10.743728zM513.635935 941.818272c-38.408827 0-100.185261-87.561381-130.804885-238.510756a999.703866 999.703866 0 0 1 261.60977 0C613.821196 854.256891 552.044761 941.818272 513.635935 941.818272z m-148.532036-26.859319l-26.85932-10.206542h-1.611559c-7.789203-3.491712-15.578405-6.983423-23.099014-11.012321l-6.177644-5.640457-16.384185-9.132168-8.594982-5.371864-14.504032-9.669355-8.326389-6.177643c-4.834677-3.491712-9.669355-6.983423-14.235439-10.743728l-7.52061-6.177644-15.041219-13.429659L218.183422 823.637267c-6.71483-6.446237-13.161066-13.161066-19.607303-19.875896l-1.611559-1.880153c-5.640457-6.446237-11.012321-12.62388-16.384185-19.33871-1.880152-2.148746-3.491712-4.566084-5.371864-6.983423l-8.057796-11.012321a589.024873 589.024873 0 0 1 137.251122-47.272402 647.309596 647.309596 0 0 0 72.251569 201.713489h-2.148745zM513.635935 354.942145a1006.150102 1006.150102 0 0 1-134.296597-9.132169C406.198657 179.550789 473.078362 82.320053 513.635935 82.320053s107.437277 97.230736 134.296596 263.489923a1006.150102 1006.150102 0 0 1-134.296596 9.132169zM174.134138 248.847833c4.297491-5.640457 8.594982-11.012321 13.161067-16.384184l7.252016-7.789203c4.028898-4.566084 8.057796-9.132169 12.355287-13.42966l8.326389-8.057796 12.62388-11.8181 8.863575-7.520609 13.698253-11.012321 8.863576-6.71483 15.578405-10.743728 8.057796-5.640457 21.487455-12.62388 2.954525-1.074373c8.594982-4.566084 16.921371-8.863575 26.85932-12.892473l7.789202-3.491712 18.53293-7.789202 10.206542-3.491712 5.371864-1.880152A671.482983 671.482983 0 0 0 298.76138 331.84313a532.351709 532.351709 0 0 1-145.846104-53.718639c5.103271-7.789203 10.475135-15.578405 16.115592-23.099014z m478.095884-143.160172l5.371864 1.880153 10.206542 3.491711 18.801523 7.789203 7.52061 3.491711q13.42966 5.90905 26.859319 12.892474h2.417339l22.024641 13.161066 7.789203 5.371864 15.846999 11.012321 8.594982 6.446236c4.834677 3.760305 9.669355 7.520609 14.235439 11.549508a100.453854 100.453854 0 0 1 8.326389 7.252016c4.566084 3.760305 8.863575 8.057796 13.161066 12.086694l7.789203 7.789202c4.566084 4.297491 8.863575 9.132169 12.892473 13.698253a89.441533 89.441533 0 0 1 6.71483 7.52061c4.834677 5.371864 9.400762 11.280914 13.966846 16.921371l4.297491 5.640457q8.594982 11.280914 16.115592 23.367608a541.752471 541.752471 0 0 1-145.846104 53.718638 671.482983 671.482983 0 0 0-77.086247-225.081096zM83.886825 512.069163a427.331771 427.331771 0 0 1 32.231184-161.155916 644.623664 644.623664 0 0 0 172.43683 62.045027c-2.954525 32.499776-4.566084 65.805332-4.566085 100.185262a1108.484109 1108.484109 0 0 0 7.252017 125.164428 658.859103 658.859103 0 0 0-165.990594 57.747536A423.034279 423.034279 0 0 1 83.886825 512.069163z m652.144274 125.164428a1108.484109 1108.484109 0 0 0 7.252016-125.164428c0-34.379929-1.611559-67.685485-4.566084-100.185261A644.623664 644.623664 0 0 0 911.153861 350.913247a424.645839 424.645839 0 0 1-9.132169 345.142253 658.859103 658.859103 0 0 0-165.990593-58.821909z" fill="#656A7D" p-id="1545"></path></svg>
          </span>
          <span class="ml-16 size-28">{{ locale === 'cn' ? 'English' : '中文' }}</span>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "Pop",
  props: {
    show: {
      type: Boolean,
      default: false
    },
    position: {
      type: String,
      default: 'right'
    },
    disabled: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      showPop: false,
      locale: localStorage.getItem('locale')
    }
  },
  watch: {
    show: {
      immediate: true,
      handler(val) {
        this.showPop = val;
      }
    }
  },
  computed: {
    isMobile() {
      return /Android|webOS|iPhone|iPad|BlackBerry/i.test(navigator.userAgent);
    },
  },
  methods: {
    toUrl(type) {
      switch (type) {
        case 'twitter':
          this.isMobile ? window.location.href = 'https://twitter.com/naboxwallet' : window.open('https://twitter.com/naboxwallet');
          break;
        case 'telegram':
          this.isMobile ? window.location.href = 'https://t.me/naboxcommunity' : window.open('https://t.me/naboxcommunity');
          break;
        case 'Discord':
          this.isMobile ? window.location.href = 'https://discord.gg/mQVXZJXMkn' : window.open('https://discord.gg/mQVXZJXMkn');
          break;
        case 'nerveBridge':
          this.isMobile ? window.location.href = 'https://bridge.nerve.network/' : window.open('https://bridge.nerve.network/');
          break;
        case 'website':
          this.isMobile ? window.location.href = 'https://nabox.io/' : window.open('https://nabox.io/');
          break;
        case 'SwapBox':
          this.isMobile ? window.location.href = 'https://swapbox.nabox.io/' : window.open('https://swapbox.nabox.io/');
          break;
      }
    },
    switchLocale() {
      if (this.locale === 'cn') {
        this.$i18n.locale = 'en';
        this.locale = 'en';
        this.$store.commit('changeLang', 'en');
        localStorage.setItem('locale', 'en')
      } else {
        this.$i18n.locale = 'cn';
        this.locale = 'cn';
        this.$store.commit('changeLang', 'cn');
        localStorage.setItem('locale', 'cn')
      }
    },
    swapClick() {
      this.showPop = false;
      if (window.location.hash.split('/')[1] === 'swap') return false;
      this.$emit('swapClick');
    },
    transferClick() {
      this.showPop = false;
      if (window.location.hash.split('/')[1] === 'transfer') return false;
      this.$emit('transferClick');
    },
    poolClick() {
      this.showPop = false;
      if (window.location.hash.split('/')[1] === 'liquidity') return false;
      this.$emit('poolClick');
    },
    vaultsClick() {
      this.showPop = false;
      if (window.location.hash.split('/')[1] === 'vaults') return false;
      this.$emit('vaultsClick');
    },
    airdropClick() {
      this.showPop = false;
      if (window.location.hash.split('/')[1] === 'airdrop') return false;
      this.$emit('airdropClick');
    },
  }
}
</script>

<style scoped lang="scss">
@import "Pop.scss";
.disabled {
  opacity: .5;
}
</style>